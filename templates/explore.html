{% extends "base.html" %}

{% block title %}Explore Places - Discover Singapore{% endblock %}
{% block page_id %}explore{% endblock %}

{% block content %}
<section class="explore-hero">
    <div class="card">
        <div class="card-header">
            <div>
                <h1><i class="fas fa-compass"></i> Explore Singapore</h1>
                <p>Filter by interests, review top spots and revisit favourites in a single map view.</p>
            </div>
        </div>
    </div>
</section>

<section class="explore-layout">
    <div class="explore-map-wrapper">
        <div id="exploreMap" class="map" role="region" aria-label="Explore Singapore map"></div>
        <div class="map-legend">
            <span><i class="fas fa-map-marker-alt"></i> Places</span>
            <span><i class="fas fa-star text-saved"></i> Saved</span>
        </div>
    </div>
    <aside class="explore-sidebar">
        <div class="explore-controls">
            <label for="exploreCategory">Category</label>
            <select id="exploreCategory"></select>
            <button id="exploreSavedToggle" class="btn ghost" type="button"><i class="fas fa-star"></i> Saved Places</button>
        </div>
        <div class="explore-list-header">
            <h3>Top Places</h3>
            <span id="exploreCount" class="badge muted">0</span>
        </div>
        <div id="exploreList" class="explore-list"></div>
    </aside>
</section>

<aside class="explore-details is-collapsed" id="exploreDetailsPanel" aria-live="polite">
    <button id="exploreDetailsClose" class="icon-btn light" type="button" aria-label="Close details"><i class="fas fa-times"></i></button>
    <div class="explore-detail-body">
        <header class="place-header">
            <div class="place-header-text">
                <h3 id="exploreDetailName">--</h3>
                <div class="place-meta">
                    <span id="exploreDetailCategory" class="badge muted">--</span>
                    <span id="exploreDetailRating" class="badge rating"><i class="fas fa-star"></i> --</span>
                    <span id="exploreDetailReviews" class="badge muted"><i class="fas fa-users"></i> --</span>
                </div>
            </div>
            <button id="exploreDetailSave" class="icon-btn" type="button" aria-pressed="false" title="Save this place">
                <i class="far fa-star"></i>
            </button>
        </header>
        <p class="status-line" id="exploreDetailStatus"><span class="badge status">Status unknown</span></p>
        <p><strong>Address:</strong> <span id="exploreDetailAddress">--</span></p>
        <p><strong>Phone:</strong> <span id="exploreDetailPhone">--</span></p>
        <p><strong>Website:</strong> <a id="exploreDetailWebsite" href="#" target="_blank" rel="noopener">--</a></p>
        <div class="hours-block">
            <h4><i class="fas fa-clock"></i> Opening Hours</h4>
            <ul id="exploreDetailHours" class="opening-hours"></ul>
        </div>
    </div>
</aside>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/explore.js') }}" defer></script>
{% endblock %}
